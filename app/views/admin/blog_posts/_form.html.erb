<%= form_with(model: [:admin, blog_post]) do |form| %>
  <% if blog_post.errors.any? %>
    <div class="mb-4 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg">
      <h3 class="text-sm font-medium text-red-800 dark:text-red-200 mb-2">
        <%= pluralize(blog_post.errors.count, "error") %> prohibited this blog post from being saved:
      </h3>
      <ul class="list-disc list-inside text-sm text-red-700 dark:text-red-300">
        <% blog_post.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="space-y-6">
    <div class="grid grid-cols-1 gap-6">
      <div>
        <%= form.label :title, class: "block text-sm font-medium text-gray-700 dark:text-gray-300" %>
        <%= form.text_field :title, 
            class: "mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-purple-500 focus:ring-purple-500 sm:text-sm" %>
      </div>

      <div>
        <%= form.label :slug, class: "block text-sm font-medium text-gray-700 dark:text-gray-300" %>
        <%= form.text_field :slug, 
            class: "mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-purple-500 focus:ring-purple-500 sm:text-sm",
            placeholder: "leave-blank-to-auto-generate" %>
        <p class="mt-1 text-sm text-gray-500 dark:text-gray-400">Leave blank to auto-generate from title</p>
      </div>

      <div>
        <%= form.label :excerpt, class: "block text-sm font-medium text-gray-700 dark:text-gray-300" %>
        <%= form.text_area :excerpt, rows: 3,
            class: "mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-purple-500 focus:ring-purple-500 sm:text-sm" %>
      </div>

      <div data-controller="trix-heading">
        <%= form.label :content, class: "block text-sm font-medium text-gray-700 dark:text-gray-300" %>
        <%= form.rich_text_area :content,
            class: "mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-purple-500 focus:ring-purple-500 sm:text-sm" %>
      </div>

      <div class="grid grid-cols-2 gap-6">
        <div>
          <%= form.label :status, class: "block text-sm font-medium text-gray-700 dark:text-gray-300" %>
          <%= form.select :status, options_for_select(BlogPost.statuses.map {|key, value| [key.humanize, key]}, blog_post.status),
              {}, class: "mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-purple-500 focus:ring-purple-500 sm:text-sm" %>
        </div>

        <div>
          <%= form.label :published_at, class: "block text-sm font-medium text-gray-700 dark:text-gray-300" %>
          <%= form.datetime_field :published_at, 
              class: "mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-purple-500 focus:ring-purple-500 sm:text-sm" %>
        </div>
      </div>

      <div>
        <%= form.label :tag_list, "Tags", class: "block text-sm font-medium text-gray-700 dark:text-gray-300" %>
        <%= form.text_field :tag_list, value: blog_post.tag_list,
            class: "mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-purple-500 focus:ring-purple-500 sm:text-sm",
            placeholder: "ruby, rails, web development" %>
        <p class="mt-1 text-sm text-gray-500 dark:text-gray-400">Separate tags with commas</p>
      </div>

      <div>
        <%= form.label :featured_image_url, class: "block text-sm font-medium text-gray-700 dark:text-gray-300" %>
        <%= form.text_field :featured_image_url, 
            class: "mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-purple-500 focus:ring-purple-500 sm:text-sm" %>
      </div>

      <div class="border-t dark:border-gray-700 pt-6">
        <h3 class="text-lg font-medium text-gray-900 dark:text-gray-100 mb-4">SEO Metadata</h3>
        
        <div class="space-y-4">
          <div>
            <%= form.label :meta_title, class: "block text-sm font-medium text-gray-700 dark:text-gray-300" %>
            <%= form.text_field :meta_title, 
                class: "mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-purple-500 focus:ring-purple-500 sm:text-sm" %>
          </div>

          <div>
            <%= form.label :meta_description, class: "block text-sm font-medium text-gray-700 dark:text-gray-300" %>
            <%= form.text_area :meta_description, rows: 2,
                class: "mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-purple-500 focus:ring-purple-500 sm:text-sm" %>
          </div>
        </div>
      </div>
    </div>

    <div class="flex items-center justify-end space-x-3 pt-6 border-t dark:border-gray-700">
      <%= link_to "Cancel", admin_blog_posts_path, class: "bg-white dark:bg-gray-700 py-2 px-4 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500" %>
      <%= form.submit class: "bg-purple-600 hover:bg-purple-700 text-white font-medium py-2 px-4 rounded-md transition-colors" %>
    </div>
  </div>
<% end %>